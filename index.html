<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>ip logger ðŸ˜ˆðŸ˜ˆðŸ˜ˆ</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
	</head>
	<body>
		<button onclick="sendMessage()">By clicking this button you consent to me logging your ip.</button>
	</body>
	<script>
	    function sendMessage() {
	        $.getJSON('https://api.ipify.org?format=jsonp&callback=?', ipCallback);
	        
	        function ipCallback(ip) {
	            console.log(ip.ip)
	            $.get('https://api.hackertarget.com/geoip/?q='+ip.ip, function(data) {
                    data = data.trim().split('\n').reduce(function(obj, pair) {
                        pair = pair.split(': ');
                        return obj[pair[0]] = pair[1], obj;
                    }, {});
                    dataCallback(data)
                });
	        }
	
    		function dataCallback(data) {
    		    console.log(JSON.stringify(data));
    		    
    		    const request = new XMLHttpRequest();
    			
    			request.open("POST", "https://discord.com/api/webhooks/1145530246687375390/v9GBEeZk5v6bkdCASMZAGAUTWsX4UtoqbSDqaXodMI9v-SFAVvwoJhNhGFzshnBoKuGh");
    			
    			request.setRequestHeader('Content-type', 'application/json');
    			
    			const params = {
    				"content": "",
    				"embeds": [{
    					"type": "rich",
    					"title": "__**New IP Logged**__",
    					"color": 16777215,
    					"fields": [{
    					    "name": "__IP__",
    						"value": data["IP Address"],
    						"inline": true
    					}, {
    						"name": "__Country__",
    						"value": data["Country"],
    						"inline": true
    					}, {
    						"name": "__State__",
    						"value": data["State"],
    						"inline": true
    					}, {
    						"name": "__City__",
    						"value": data["City"],
    						"inline": true
    					}],
    					"description": "Someone clicked the button!"
    				}]
    			}
    			
    			request.send(JSON.stringify(params));
    		}
	    }
	</script>
</html>
